!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.Pan=t():e.Pan=t()}(this,(()=>(()=>{"use strict";var e={222:function(e,t,s){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Viewport=t.Mouse=t.EventEmitter=void 0;const n=i(s(283));t.Mouse=n.default;const o=s(265);Object.defineProperty(t,"EventEmitter",{enumerable:!0,get:function(){return o.EventEmitter}});const r=i(s(827));t.Viewport=r.default},45:function(e,t,s){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.AnimationQueue=void 0;const n=i(s(965));class o{queue=[];static instance;state=new n.default;constructor(){}static getInstance(){return void 0===o.instance&&(o.instance=new o),o.instance}addEvent(e,t){let s=!1;for(const i of this.queue)i.key===e&&(i.callstack.push(t),s=!0);s||this.queue.push({key:e,callstack:[t]}),this.state.requestAnimationFrame.active||this.startRequestAnimationFrame()}processEvents(){if(this.checkAnimationFrameStatus(this.queue)){const e=this.queue.length;for(let t=0;t<e;t++){const e=this.queue[t];e.callstack[e.callstack.length-1]()}0!==e&&this.queue.splice(0,e),this.queue.splice(0,e),requestAnimationFrame(this.processEvents.bind(this))}}checkAnimationFrameStatus(e){return 0===e.length?this.state.requestAnimationFrame.consecutiveEmptyCalls+=1:this.state.requestAnimationFrame.consecutiveEmptyCalls=0,!(this.state.requestAnimationFrame.consecutiveEmptyCalls>=600&&(this.endRequestAnimationFrame(),1))}startRequestAnimationFrame(){this.state.requestAnimationFrame.consecutiveEmptyCalls=0,this.state.requestAnimationFrame.active=!0,this.state.requestAnimationFrame.reference=requestAnimationFrame(this.processEvents.bind(this)),console.log("starting frame callstack")}endRequestAnimationFrame(){cancelAnimationFrame(this.state.requestAnimationFrame.reference),this.state.requestAnimationFrame.active=!1,console.log("ending frame callstack")}}t.AnimationQueue=o},965:function(e,t,s){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const n=i(s(627));t.default=class{requestAnimationFrame=new n.default}},627:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{reference;active;consecutiveEmptyCalls;constructor(){this.reference=null,this.active=!1,this.consecutiveEmptyCalls=0}}},265:(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.EventEmitter=void 0;const i=s(45);t.EventEmitter=class{animationQueue=i.AnimationQueue.getInstance();isEventKeyIsValid(e){return this.events.has(e)}isEventInitialized(e){const t=this.events.get(e);return void 0!==t&&t.callbacks.length>0}getEvent(e){const t=this.events.get(e);if(void 0!==t)return t;throw Error("Event was not found")}on(e,t){if(!this.isEventKeyIsValid(e))throw new Error("this is not a supported event");const s=this.getEvent(e);this.isEventInitialized(e)||s.initFunction(),s.callbacks.push(t)}off(e){if(!this.isEventKeyIsValid(e))throw new Error("this is not a supported event");const t=this.getEvent(e);if(this.isEventInitialized(e))for(;t.callbacks.length>0;)t.callbacks.pop()}emit(e,t){console.log(this.events),this.isEventKeyIsValid(e)&&this.getEvent(e).callbacks.forEach((e=>{e(t)}))}}},283:(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0});const i=s(265);class n extends i.EventEmitter{settings={isMouseOnMoveEnabled:!1,isMouseClickEnabled:!1};static instance;static getInstance(){return void 0===n.instance&&(n.instance=new n),n.instance}events=new Map(Object.entries({move:{initFunction:()=>{this.registerMouseMoveEventListener()},destroyFunction:()=>{this.destroyMouseMoveEventListener()},callbacks:[]},click:{initFunction:()=>{this.registerMouseClickEventListener()},destroyFunction:()=>{this.destroyMouseClickEventListener()},callbacks:[]}}));mouseMove(e){const t={x:e.offsetX,y:e.offsetY};this.emit("move",t)}mouseClick(e){let t=0;1===e.which||0===e.button?t=0:3!==e.which&&2!==e.button||(t=1);const s={x:e.offsetX,y:e.offsetY,button:t};this.emit("click",s)}registerMouseMoveEventListener(){this.settings.isMouseOnMoveEnabled||(window.addEventListener("mousemove",(e=>{this.mouseMove(e)})),this.settings.isMouseOnMoveEnabled=!0)}destroyMouseMoveEventListener(){window.removeEventListener("mousemove",this.mouseMove),this.settings.isMouseOnMoveEnabled=!1}registerMouseClickEventListener(){this.settings.isMouseClickEnabled||(window.addEventListener("click",(e=>{this.mouseClick(e)})),this.settings.isMouseClickEnabled=!0)}destroyMouseClickEventListener(){window.removeEventListener("click",this.mouseMove),this.settings.isMouseClickEnabled=!1}}t.default=n},827:(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0});const i=s(265);class n extends i.EventEmitter{settings={isViewportResizeEnabled:!1};static instance;static getInstance(){return void 0===n.instance&&(n.instance=new n),n.instance}events=new Map(Object.entries({resize:{initFunction:()=>{this.registerViewportResizeListener()},destroyFunction:()=>{this.destroyViewportResizeListener()},callbacks:[]}}));viewportResize(){const e={width:window.innerWidth,height:window.innerHeight};this.emit("resize",e)}registerViewportResizeListener(){this.settings.isViewportResizeEnabled||(window.addEventListener("resize",(()=>{this.viewportResize()})),this.settings.isViewportResizeEnabled=!0)}destroyViewportResizeListener(){window.removeEventListener("resize",this.viewportResize),this.settings.isViewportResizeEnabled=!1}}t.default=n}},t={};return function s(i){var n=t[i];if(void 0!==n)return n.exports;var o=t[i]={exports:{}};return e[i].call(o.exports,o,o.exports,s),o.exports}(222)})()));